import{_ as I,e as i,f as r,g as t,t as o,H as ot,i as gt,A as ct,B as lt,d as mt,h as p,r as l,b as yt,w as L,F as w,v as P,z as Lt,x as _,y as v,n as wt}from"./index.e383fb1c.js";import{h as k}from"./moment.9709ab41.js";import{r as h}from"./request.7babc9c3.js";const q="/images/medal1.png",B="/images/medal2.png",D="/images/medal3.png";const Pt=n=>(ct("data-v-a91401d5"),n=n(),lt(),n),bt={class:"people-box-container"},Ct=Pt(()=>t("div",{class:"blue-block"},null,-1)),Rt={class:"title-sec"},xt={class:"title"},Ft={class:"date"},$t={class:"num-sec"},kt={class:"blue-char"},It={class:"unit-char"},qt={__name:"HeadOneBoxNum",props:{peopleNum:{type:Number,default:0},title:{type:String,default:""},unit:{type:String,default:""}},setup(n){const R=k().format("YYYY.MM.DD HH:mm:ss");return(f,b)=>(i(),r("div",bt,[Ct,t("div",Rt,[t("span",xt,o(n.title),1),ot(f.$slots,"default",{},()=>[t("span",Ft,"\u6570\u636E\u66F4\u65B0\u4E8E\uFF1A"+o(gt(R)),1)],!0)]),t("div",$t,[t("span",kt,o(n.peopleNum||0),1),t("span",It,o(n.unit),1)])]))}},$=I(qt,[["__scopeId","data-v-a91401d5"]]);const Bt=n=>(ct("data-v-658ebe58"),n=n(),lt(),n),Dt={class:"main-box-container"},At=Bt(()=>t("div",{class:"blue-block"},null,-1)),Nt={class:"title-char"},Yt={class:"pagination-wrap"},St={class:"flex"},Mt={class:"record-char"},Ht={__name:"MainListBox",props:{title:{type:String,default:""},total:{type:Number,default:0}},emits:["changePage"],setup(n,{emit:R}){const f=b=>{R("changePage",b)};return(b,d)=>{const x=mt("el-pagination");return i(),r("div",Dt,[At,t("div",Nt,o(n.title),1),ot(b.$slots,"default",{},void 0,!0),t("div",Yt,[t("div",St,[t("span",Mt,"\u5171"+o(n.total)+"\u6761\u8BB0\u5F55",1),p(x,{background:"","page-size":10,"pager-count":5,layout:"prev, pager, next",total:n.total,onCurrentChange:f},null,8,["total"])])])])}}},C=I(Ht,[["__scopeId","data-v-658ebe58"]]),zt=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index/number",n),Ot=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index/count",n),Vt=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index/cover",n),Et=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/cover_list",n),jt=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/date_list",n),Gt=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/instructor_plist",n),nt=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/recent_list",n),Jt=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/recent_list2",n);const Kt={class:"activity-broad-container"},Qt={class:"head-wrap"},Tt={class:"blue-btn-wrap"},Ut=["onClick"],Wt={class:"main-wrap"},Xt={class:"main-row flex"},Zt={class:"left"},ta={class:"medal-icon",src:q,alt:""},aa={class:"medal-icon",src:B,alt:""},ea={class:"medal-icon",src:D,alt:""},sa={class:"area-char"},na={class:"area-char"},oa={class:"area-char"},ca={class:"blue-progress-wrap"},la={class:"area-char"},ia={class:"main-row flex"},ra={class:"left"},ua={class:"medal-icon",src:q,alt:""},da={class:"medal-icon",src:B,alt:""},_a={class:"medal-icon",src:D,alt:""},va={class:"area-char"},pa={class:"right-wrap"},ha={class:"area-char"},fa={class:"area-char"},ga={class:"area-char"},ma={class:"date-char"},ya={class:"main-row flex"},La={class:"left"},wa={class:"medal-icon",src:q,alt:""},Pa={class:"medal-icon",src:B,alt:""},ba={class:"medal-icon",src:D,alt:""},Ca={class:"area-char"},Ra={class:"right-wrap mi"},xa={class:"area-char"},Fa={class:"area-char"},$a={class:"area-char"},ka={class:"date-char"},Ia={__name:"activityDataBroad",setup(n){const R=[{id:"all",name:"\u5168\u90E8"},{id:"week",name:"\u672C\u5468"},{id:"month",name:"\u672C\u6708"}],f=l("all"),b=e=>{f.value=e,N()},d=1,x=l(0),it=async()=>{const a=await zt({id:d,aid:d});x.value=a},A=l(0),N=async()=>{const e={type:f.value,aid:d},a=await Ot(e);A.value=a},Y=l(0),rt=async()=>{const a=await Vt({id:d,aid:d});Y.value=a},u=(e,a)=>e+1+(a-1)*10,S=l([]),g=l(1),M=l(1),H=async()=>{const e={aid:d,type:"city",limit:10,page:g.value},a=await Et(e);M.value=a.total,a&&a.data&&(S.value=a.data)},ut=e=>{g.value=e,H()},z=l([]),O=l(1),V=l(1),E=async()=>{const e={aid:d,type:"all",limit:10,page:O.value},a=await jt(e);V.value=a.total,a&&a.data&&(z.value=a.data)},dt=e=>{O.value=e,E()},F=e=>k(e).format("YYYY\u5E74MM\u6708DD\u65E5"),_t=e=>{let a=(e/5e4*100).toFixed(1);return e>=5e4&&(a=100),a},j=l([]),m=l(1),G=l(1),J=async()=>{const e={aid:d,limit:10,page:m.value},a=await Gt(e);G.value=a.total,a&&a.data&&(j.value=a.data)},vt=e=>{m.value=e,J()},K=l([]),Q=l(1),T=l(1),U=async()=>{const e={aid:d,limit:10,page:Q.value},a=await nt(e);T.value=a.total,a&&a.data&&(K.value=a.data)},pt=e=>{Q.value=e,U()},W=l([]),y=l(1),X=l(1),Z=async()=>{const e={aid:d,limit:10,page:y.value,start_date:"2022-5-15",end_date:k().format("YYYY-MM-DD")},a=await Jt(e);X.value=a.total,a&&a.data&&(W.value=a.data)},ht=e=>{y.value=e,Z()},tt=l([]),at=l(1),et=l(1),st=async()=>{const e={aid:d,limit:10,page:at.value},a=await nt(e);et.value=a.total,a&&a.data&&(tt.value=a.data)},ft=e=>{at.value=e,st()};return yt(()=>{it(),N(),rt(),H(),E(),J(),U(),Z(),st()}),(e,a)=>(i(),r("div",Kt,[t("div",Qt,[p($,{"people-num":x.value,title:"\u8986\u76D6\u603B\u4EBA\u6570",unit:"\u4EBA"},null,8,["people-num"]),p($,{title:"\u6D3B\u52A8\u603B\u573A\u6B21","people-num":A.value,unit:"\u573A"},{default:L(()=>[t("div",Tt,[(i(),r(w,null,P(R,s=>t("div",{class:Lt(["btn",f.value==s.id?"active":""]),key:s.id,onClick:c=>b(s.id)},o(s.name),11,Ut)),64))])]),_:1},8,["people-num"]),p($,{title:"\u533A\u57DF\u8986\u76D6\u7387","people-num":Y.value,unit:"%"},null,8,["people-num"])]),t("div",Wt,[t("div",Xt,[p(C,{title:"\u5BA3\u8BB2\u533A\u57DF\u8986\u76D6\u4EBA\u6570\u6392\u540D",total:M.value,onChangePage:ut},{default:L(()=>[t("div",null,[(i(!0),r(w,null,P(S.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[t("div",Zt,[_(t("img",ta,null,512),[[v,u(c,g.value)==1]]),_(t("img",aa,null,512),[[v,u(c,g.value)==2]]),_(t("img",ea,null,512),[[v,u(c,g.value)==3]]),_(t("span",{class:"rank-char"},o(u(c,g.value)),513),[[v,u(c,g.value)>3]]),t("span",sa,o(s.province||"")+o(s.city||"")+o(s.district||"")+o(s.street||""),1)]),t("span",na,o(s.sum_visitor||0)+"\u4EBA",1)]))),128))])]),_:1},8,["total"]),p(C,{title:"\u65B0\u589E\u5BA3\u8BB2\u8986\u76D6\u4EBA\u6570",total:V.value,onChangePage:dt},{default:L(()=>[t("div",null,[(i(!0),r(w,null,P(z.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[t("span",oa,o(F(s.g_date)),1),t("div",ca,[t("div",{class:"blue-progress",style:wt(`width: ${_t(s.sum_visitor)}%`)},null,4)]),t("span",la,o(s.sum_visitor||0)+"\u4EBA",1)]))),128))])]),_:1},8,["total"])]),t("div",ia,[p(C,{title:"\u6388\u8BFE\u8001\u5E08\u5BA3\u8BB2\u6570\u636E\u6392\u540D",total:G.value,onChangePage:vt},{default:L(()=>[t("div",null,[(i(!0),r(w,null,P(j.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[t("div",ra,[_(t("img",ua,null,512),[[v,u(c,m.value)==1]]),_(t("img",da,null,512),[[v,u(c,m.value)==2]]),_(t("img",_a,null,512),[[v,u(c,m.value)==3]]),_(t("span",{class:"rank-char"},o(u(c,m.value)),513),[[v,u(c,m.value)>3]]),t("span",va,o(s.instructor_info?s.instructor_info.name:""),1)]),t("div",pa,[t("span",ha,o(s.visitor||0)+"\u4EBA",1),t("span",fa,o(s.host_time||0)+"\u573A",1)])]))),128))])]),_:1},8,["total"]),p(C,{title:"\u8FD1\u671F\u627F\u529E\u5355\u4F4D\u5217\u8868",total:T.value,onChangePage:pt},{default:L(()=>[t("div",null,[(i(!0),r(w,null,P(K.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[t("span",ga,o(s.host_info?s.host_info.name:""),1),t("span",ma,o(F(s.date)),1)]))),128))])]),_:1},8,["total"])]),t("div",ya,[p(C,{title:"\u8FD1\u671F\u5BA3\u8BB2\u8BE6\u60C5",total:X.value,onChangePage:ht},{default:L(()=>[t("div",null,[(i(!0),r(w,null,P(W.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[t("div",La,[_(t("img",wa,null,512),[[v,u(c,y.value)==1]]),_(t("img",Pa,null,512),[[v,u(c,y.value)==2]]),_(t("img",ba,null,512),[[v,u(c,y.value)==3]]),_(t("span",{class:"rank-char"},o(u(c,y.value)),513),[[v,u(c,y.value)>3]]),t("span",Ca,o(s.title),1)]),t("div",Ra,[t("span",xa,o(s.instructor_info?s.instructor_info.name:""),1),t("span",Fa,o(s.visitor||0)+"\u4EBA",1)])]))),128))])]),_:1},8,["total"]),p(C,{title:"\u8FD1\u671F\u5BA3\u8BB2\u533A\u57DF\u5217\u8868",total:et.value,onChangePage:ft},{default:L(()=>[t("div",null,[(i(!0),r(w,null,P(tt.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[t("span",$a,o(s.province||"")+o(s.city||"")+o(s.district||"")+o(s.street||""),1),t("span",ka,o(F(s.date)),1)]))),128))])]),_:1},8,["total"])])])]))}},Aa=I(Ia,[["__scopeId","data-v-56b09815"]]);export{Aa as default};
