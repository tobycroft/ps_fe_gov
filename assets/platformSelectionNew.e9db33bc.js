import{g as k}from"./ak.7f196e16.js";import{u as b}from"./user.468073d5.js";import{u as v}from"./school.58cd730a.js";import{q as F,c as D,r as t,s as w,l as I,_ as $,d as p,e as _,f as m,g as o,h as u,t as h,w as S,j as y,F as L,v as A,x as V,y as B,z as E,A as N,B as x}from"./index.68072692.js";import"./request.c04241c9.js";import{u as C}from"./family.70ffe0c2.js";import{u as j}from"./study.cdfc6c39.js";const H=F({name:"CustomNavHeader",setup(){const e=D(),n=v(),i=b(),a=t(),l=t(),r=t(""),s=t(""),c=t(""),f=()=>{console.log("login() :>> ",I()),I().getLoginInfo("",-1,""),e.push({path:"/login"})};return w(()=>{a.value=n.schoolDomainInfo,l.value=i.getSchoolUserInfo,a.value.icon&&(r.value=a.value.icon),a.value.name&&(s.value=a.value.name),l.value.wx_img&&(c.value=l.value.wx_img)}),{projectImgRef:r,projectNameRef:s,userAvatarRef:c,schoolUserInfoRef:l,exitSystem:f}}});const q={class:"custom-nav-header-container flex"},z={class:"project-info-box flex-start"},G={class:"project-title-style"},T={class:"user-info-box flex-start"},P={class:"user-info-style flex-start"},J={class:"user-name-style"},K=y("[\u9000\u51FA]");function M(e,n,i,a,l,r){const s=p("el-avatar"),c=p("el-button");return _(),m("div",q,[o("div",z,[u(s,{size:28,src:e.projectImgRef||"/images/school_logo.png"},null,8,["src"]),o("p",G,h(e.projectNameRef),1)]),o("div",T,[o("div",P,[u(s,{size:32,src:e.userAvatarRef},null,8,["src"]),o("p",J,h(e.schoolUserInfoRef.username),1)]),u(c,{class:"exit-btn-style",type:"primary",link:"",onClick:e.exitSystem},{default:S(()=>[K]),_:1},8,["onClick"])])])}const O=$(H,[["render",M],["__scopeId","data-v-21d003ab"]]);function R(){const e=v(),n=e.saveSchoolInfoList,i=e.saveSchoolInfo,a=t(e.getSchoolInfoList),l=t(e.getSchoolInfo),r=b(),s=r.saveSchoolUserInfo,c=t(r.getSchoolUserInfo);return{saveSchoolInfoList:n,saveSchoolInfo:i,saveSchoolUserInfo:s,schoolInfoListRef:a,schoolInfoRef:l,schoolUserInfoRef:c}}function Q(){v().getSchoolGradeList(),v().getSchoolClassList(),C().reqFamilyRoleListApi(),C().reqFamilyTypeListApi(),j().tagInfoListAPI()}const W=F({name:"platformSelection",components:{CustomNavHeader:O},setup(){R().saveSchoolInfoList(),R().saveSchoolUserInfo,Q();const e=D(),n=t([{id:3,name:"\u6570\u636E\u4E2D\u5FC3",imgURL:"datacenter_bg.png"},{id:2,name:"\u6570\u636E\u5927\u5C4F",imgURL:"big_data_screen.png"}]),i=t(-1),a=f=>{i.value=f,l(i.value)},l=async f=>{switch(f){case 1:e.push("/workbenchView");break;case 2:window.location.href="http://school.familyeducation.org.cn/putianscreen/";break;case 3:e.push("/datacenter");break}},r=t(!1),s=t(!1);return{listDataRef:n,getImageUrl:k,activeRef:i,changeActive:a,tipsVisibleRef:r,dialogVisibleRef:s,onContactCustomerService:()=>{s.value=!0}}}}),X="/icons/files_icon.png";const g=e=>(N("data-v-57ced45e"),e=e(),x(),e),Y={class:"platform-selection-container"},Z=g(()=>o("p",{class:"title-style"},"\u9009\u62E9\u767B\u5F55\u754C\u9762",-1)),ee={class:"ul-style flex"},oe=["onClick"],se={class:"platform-name-style"},te=g(()=>o("img",{class:"file-icon",src:X,alt:""},null,-1)),ne={class:"tips-box flex align-center"},ae={class:"flex-start"},ce=g(()=>o("p",{class:"tips-content-style"},"\u8FD8\u672A\u8D2D\u4E70\u6B64\u9879\u529F\u80FD\uFF0C",-1)),le=y("\u8054\u7CFB\u5BA2\u670D\u8D2D\u4E70"),ie=g(()=>o("div",{class:"contact-customer-service-dialog-content-style"},[o("p",{class:"contact-customer-service-dialog-title-style"}," \u8FD8\u672A\u8D2D\u4E70\u6B64\u9879\u529F\u80FD "),o("p",{class:"contact-customer-service-dialog-describe-style"}," \u5FAE\u4FE1\u626B\u7801\u8054\u7CFB\u8D2D\u4E70 "),o("div",{class:"qrcode-box"})],-1));function re(e,n,i,a,l,r){const s=p("CustomNavHeader"),c=p("el-image"),f=p("el-button"),U=p("el-dialog");return _(),m("div",Y,[o("header",null,[u(s)]),o("article",null,[Z,o("ul",ee,[(_(!0),m(L,null,A(e.listDataRef,d=>(_(),m("li",{key:d.id,class:E(["li-style",{"active-style":e.activeRef===d.id}]),onClick:ue=>e.changeActive(d.id)},[u(c,{class:"platform-icon-style",src:e.getImageUrl(d.imgURL),fit:"fill"},null,8,["src"]),o("div",se,[te,y(" "+h(d.name),1)])],10,oe))),128))])]),V(o("div",ne,[o("div",ae,[u(c,{class:"tips-icon-style",src:e.getImageUrl("close_orange_round.png")},null,8,["src"]),ce,u(f,{type:"primary",link:"",onClick:e.onContactCustomerService},{default:S(()=>[le]),_:1},8,["onClick"])]),u(c,{class:"tips-close-icon-style",src:e.getImageUrl("close_orange.png"),onClick:n[0]||(n[0]=d=>e.tipsVisibleRef=!1)},null,8,["src"])],512),[[B,e.tipsVisibleRef]]),u(U,{class:"contact-customer-service-dialog-style",modelValue:e.dialogVisibleRef,"onUpdate:modelValue":n[1]||(n[1]=d=>e.dialogVisibleRef=d),title:"",width:"30%",draggable:""},{default:S(()=>[ie]),_:1},8,["modelValue"])])}const he=$(W,[["render",re],["__scopeId","data-v-57ced45e"]]);export{he as default};
