import{_ as I,e as i,f as r,g as a,t as o,H as oa,i as ga,A as ca,B as la,d as ma,h as p,r as l,b as ya,w as L,F as w,v as P,z as La,x as _,y as v,n as wa}from"./index.5c370a08.js";import{h as x}from"./moment.9709ab41.js";import{r as h}from"./request.cedf9158.js";const q="/images/medal1.png",B="/images/medal2.png",D="/images/medal3.png";const Pa=n=>(ca("data-v-3aaf3739"),n=n(),la(),n),Ca={class:"people-box-container"},Ra=Pa(()=>a("div",{class:"blue-block"},null,-1)),ba={class:"title-sec"},Fa={class:"title"},$a={class:"date"},ka={class:"num-sec"},xa={class:"blue-char"},Ia={class:"unit-char"},qa={__name:"HeadOneBoxNum",props:{peopleNum:{type:Number,default:0},title:{type:String,default:""},unit:{type:String,default:""}},setup(n){const b=x().format("YYYY.MM.DD HH:mm:ss");return(f,C)=>(i(),r("div",Ca,[Ra,a("div",ba,[a("span",Fa,o(n.title),1),oa(f.$slots,"default",{},()=>[a("span",$a,"\u6570\u636E\u66F4\u65B0\u4E8E\uFF1A"+o(ga(b)),1)],!0)]),a("div",ka,[a("span",xa,o(n.peopleNum||0),1),a("span",Ia,o(n.unit),1)])]))}},k=I(qa,[["__scopeId","data-v-3aaf3739"]]);const Ba=n=>(ca("data-v-e3a04947"),n=n(),la(),n),Da={class:"main-box-container"},Aa=Ba(()=>a("div",{class:"blue-block"},null,-1)),Na={class:"title-char"},Ya={class:"pagination-wrap"},Sa={class:"pagination"},Ma={class:"record-char"},Ha={__name:"MainListBox",props:{title:{type:String,default:""},total:{type:Number,default:0}},emits:["changePage"],setup(n,{emit:b}){const f=C=>{b("changePage",C)};return(C,d)=>{const F=ma("el-pagination");return i(),r("div",Da,[Aa,a("div",Na,o(n.title),1),oa(C.$slots,"default",{},void 0,!0),a("div",Ya,[a("div",Sa,[a("span",Ma,"\u5171"+o(n.total)+"\u6761\u8BB0\u5F55",1),p(F,{background:"","page-size":10,"pager-count":5,layout:"prev, pager, next",total:n.total,onCurrentChange:f},null,8,["total"])])])])}}},R=I(Ha,[["__scopeId","data-v-e3a04947"]]),za=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index/number",n),Oa=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index/count",n),Va=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index/cover",n),Ea=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/cover_list",n),ja=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/date_list",n),Ga=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/instructor_plist",n),na=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/recent_list",n),Ja=async n=>await h.post("https://api.fsa.familyeducation.org.cn/v1/lecture/index2/recent_list2",n);const Ka={class:"activity-broad-container"},Qa={class:"head-wrap"},Ta={class:"blue-btn-wrap"},Ua=["onClick"],Wa={class:"main-wrap"},Xa={class:"main-row flex"},Za={class:"left"},at={class:"medal-icon",src:q,alt:""},tt={class:"medal-icon",src:B,alt:""},et={class:"medal-icon",src:D,alt:""},st={class:"area-char"},nt={class:"area-char"},ot={class:"area-char"},ct={class:"blue-progress-wrap"},lt={class:"area-char"},it={class:"main-row flex"},rt={class:"left"},ut={class:"medal-icon",src:q,alt:""},dt={class:"medal-icon",src:B,alt:""},_t={class:"medal-icon",src:D,alt:""},vt={class:"area-char"},pt={class:"right-wrap"},ht={class:"area-char"},ft={class:"area-char"},gt={class:"area-char"},mt={class:"date-char"},yt={class:"main-row flex"},Lt={class:"left"},wt={class:"medal-icon",src:q,alt:""},Pt={class:"medal-icon",src:B,alt:""},Ct={class:"medal-icon",src:D,alt:""},Rt={class:"area-char"},bt={class:"right-wrap mi"},Ft={class:"area-char"},$t={class:"area-char"},kt={class:"area-char"},xt={class:"date-char"},It={__name:"activityDataBroad",setup(n){const b=[{id:"all",name:"\u5168\u90E8"},{id:"week",name:"\u672C\u5468"},{id:"month",name:"\u672C\u6708"}],f=l("all"),C=e=>{f.value=e,N()},d=1,F=l(0),ia=async()=>{const t=await za({id:d,aid:d});F.value=t},A=l(0),N=async()=>{const e={type:f.value,aid:d},t=await Oa(e);A.value=t},Y=l(0),ra=async()=>{const t=await Va({id:d,aid:d});Y.value=t},u=(e,t)=>e+1+(t-1)*10,S=l([]),g=l(1),M=l(1),H=async()=>{const e={aid:d,type:"city",limit:10,page:g.value},t=await Ea(e);M.value=t.total,t&&t.data&&(S.value=t.data)},ua=e=>{g.value=e,H()},z=l([]),O=l(1),V=l(1),E=async()=>{const e={aid:d,type:"all",limit:10,page:O.value},t=await ja(e);V.value=t.total,t&&t.data&&(z.value=t.data)},da=e=>{O.value=e,E()},$=e=>x(e).format("YYYY\u5E74MM\u6708DD\u65E5"),_a=e=>{let t=(e/5e4*100).toFixed(1);return e>=5e4&&(t=100),t},j=l([]),m=l(1),G=l(1),J=async()=>{const e={aid:d,limit:10,page:m.value},t=await Ga(e);G.value=t.total,t&&t.data&&(j.value=t.data)},va=e=>{m.value=e,J()},K=l([]),Q=l(1),T=l(1),U=async()=>{const e={aid:d,limit:10,page:Q.value},t=await na(e);T.value=t.total,t&&t.data&&(K.value=t.data)},pa=e=>{Q.value=e,U()},W=l([]),y=l(1),X=l(1),Z=async()=>{const e={aid:d,limit:10,page:y.value,start_date:"2022-5-15",end_date:x().format("YYYY-MM-DD")},t=await Ja(e);X.value=t.total,t&&t.data&&(W.value=t.data)},ha=e=>{y.value=e,Z()},aa=l([]),ta=l(1),ea=l(1),sa=async()=>{const e={aid:d,limit:10,page:ta.value},t=await na(e);ea.value=t.total,t&&t.data&&(aa.value=t.data)},fa=e=>{ta.value=e,sa()};return ya(()=>{ia(),N(),ra(),H(),E(),J(),U(),Z(),sa()}),(e,t)=>(i(),r("div",Ka,[a("div",Qa,[p(k,{"people-num":F.value,title:"\u8986\u76D6\u603B\u4EBA\u6570",unit:"\u4EBA"},null,8,["people-num"]),p(k,{title:"\u6D3B\u52A8\u603B\u573A\u6B21","people-num":A.value,unit:"\u573A"},{default:L(()=>[a("div",Ta,[(i(),r(w,null,P(b,s=>a("div",{class:La(["btn",f.value==s.id?"active":""]),key:s.id,onClick:c=>C(s.id)},o(s.name),11,Ua)),64))])]),_:1},8,["people-num"]),p(k,{title:"\u533A\u57DF\u8986\u76D6\u7387","people-num":Y.value,unit:"%"},null,8,["people-num"])]),a("div",Wa,[a("div",Xa,[p(R,{title:"\u5BA3\u8BB2\u533A\u57DF\u8986\u76D6\u4EBA\u6570\u6392\u540D",total:M.value,onChangePage:ua},{default:L(()=>[a("div",null,[(i(!0),r(w,null,P(S.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[a("div",Za,[_(a("img",at,null,512),[[v,u(c,g.value)==1]]),_(a("img",tt,null,512),[[v,u(c,g.value)==2]]),_(a("img",et,null,512),[[v,u(c,g.value)==3]]),_(a("span",{class:"rank-char"},o(u(c,g.value)),513),[[v,u(c,g.value)>3]]),a("span",st,o(s.province||"")+o(s.city||"")+o(s.district||"")+o(s.street||""),1)]),a("span",nt,o(s.sum_visitor||0)+"\u4EBA",1)]))),128))])]),_:1},8,["total"]),p(R,{title:"\u65B0\u589E\u5BA3\u8BB2\u8986\u76D6\u4EBA\u6570",total:V.value,onChangePage:da},{default:L(()=>[a("div",null,[(i(!0),r(w,null,P(z.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[a("span",ot,o($(s.g_date)),1),a("div",ct,[a("div",{class:"blue-progress",style:wa(`width: ${_a(s.sum_visitor)}%`)},null,4)]),a("span",lt,o(s.sum_visitor||0)+"\u4EBA",1)]))),128))])]),_:1},8,["total"])]),a("div",it,[p(R,{title:"\u6388\u8BFE\u8001\u5E08\u5BA3\u8BB2\u6570\u636E\u6392\u540D",total:G.value,onChangePage:va},{default:L(()=>[a("div",null,[(i(!0),r(w,null,P(j.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[a("div",rt,[_(a("img",ut,null,512),[[v,u(c,m.value)==1]]),_(a("img",dt,null,512),[[v,u(c,m.value)==2]]),_(a("img",_t,null,512),[[v,u(c,m.value)==3]]),_(a("span",{class:"rank-char"},o(u(c,m.value)),513),[[v,u(c,m.value)>3]]),a("span",vt,o(s.instructor_info?s.instructor_info.name:""),1)]),a("div",pt,[a("span",ht,o(s.visitor||0)+"\u4EBA",1),a("span",ft,o(s.host_time||0)+"\u573A",1)])]))),128))])]),_:1},8,["total"]),p(R,{title:"\u8FD1\u671F\u627F\u529E\u5355\u4F4D\u5217\u8868",total:T.value,onChangePage:pa},{default:L(()=>[a("div",null,[(i(!0),r(w,null,P(K.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[a("span",gt,o(s.host_info?s.host_info.name:""),1),a("span",mt,o($(s.date)),1)]))),128))])]),_:1},8,["total"])]),a("div",yt,[p(R,{title:"\u8FD1\u671F\u5BA3\u8BB2\u8BE6\u60C5",total:X.value,onChangePage:ha},{default:L(()=>[a("div",null,[(i(!0),r(w,null,P(W.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[a("div",Lt,[_(a("img",wt,null,512),[[v,u(c,y.value)==1]]),_(a("img",Pt,null,512),[[v,u(c,y.value)==2]]),_(a("img",Ct,null,512),[[v,u(c,y.value)==3]]),_(a("span",{class:"rank-char"},o(u(c,y.value)),513),[[v,u(c,y.value)>3]]),a("span",Rt,o(s.title),1)]),a("div",bt,[a("span",Ft,o(s.instructor_info?s.instructor_info.name:""),1),a("span",$t,o(s.visitor||0)+"\u4EBA",1)])]))),128))])]),_:1},8,["total"]),p(R,{title:"\u8FD1\u671F\u5BA3\u8BB2\u533A\u57DF\u5217\u8868",total:ea.value,onChangePage:fa},{default:L(()=>[a("div",null,[(i(!0),r(w,null,P(aa.value,(s,c)=>(i(),r("div",{class:"area-sec flex",key:c},[a("span",kt,o(s.province||"")+o(s.city||"")+o(s.district||"")+o(s.street||""),1),a("span",xt,o($(s.date)),1)]))),128))])]),_:1},8,["total"])])])]))}},At=I(It,[["__scopeId","data-v-9f068790"]]);export{At as default};
